"""
H4xton fake typing chat exploit
"""
import requests,os,sys,time,random





class Discord():
    
    
    def TypeExploit(token,channelid):
        url = f"https://canary.discord.com/api/v9/channels/{channelid}/typing"
        headers = {
        'authority': 'canary.discord.com',
        'content-length': '0',
        'sec-ch-ua': '',
        'accept-language': 'da,en-US;q=0.9',
        'sec-ch-ua-mobile': '?1',
        'authorization': token,
        'user-agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Mobile Safari/537.36',
        'x-discord-locale': 'da',
        'accept': '*/*',
        'origin': 'https://canary.discord.com',
        'sec-fetch-site': 'same-origin',
        'sec-fetch-mode': 'cors',
        'sec-fetch-dest': 'empty'
        }
        while True:
            response = requests.request("POST", url, headers=headers, data=None)
            if response.status_code == 204:
                print("[+] Succesfuly send a Heartbeat")
            else:
                exit("[-] Failed to send a Heartbeat -> ".format(response.text))
                
                
if __name__ == "__main__":
    token = input("[+] Enter your token: ")
    channelid = input("[+] Channel ID: ")
    while True:
        Discord.TypeExploit(token,channelid)
